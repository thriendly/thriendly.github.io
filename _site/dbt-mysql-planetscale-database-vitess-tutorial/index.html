<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="icon" href="/assets/images/logo.png">


    <!-- Begin Jekyll SEO tag v2.6.1 -->
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Connecting dbt mysql with PlanetScale database (Vitess) - A case study" />
<meta name="author" content="Pramod" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An ultimate case study to combine dbt (data build tool) data transformation at scale using dbt mysql + Vitess from Planetscale database" />
<meta property="og:description" content="An ultimate case study to combine dbt (data build tool) data transformation at scale using dbt mysql + Vitess from Planetscale database" />
<link rel="canonical" href="http://localhost:4000/dbt-mysql-planetscale-database-vitess-tutorial/" />
<meta property="og:url" content="http://localhost:4000/dbt-mysql-planetscale-database-vitess-tutorial/" />
<meta property="og:site_name" content="Tip Season - Tech &amp; Interview Tips" />
<meta property="og:image" content="http://localhost:4000/assets/images/dbt-mysql-planetscale.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-07-23T00:00:00-07:00" />
<script type="application/ld+json">
{"description":"An ultimate case study to combine dbt (data build tool) data transformation at scale using dbt mysql + Vitess from Planetscale database","headline":"Connecting dbt mysql with PlanetScale database (Vitess) - A case study","datePublished":"2022-07-23T00:00:00-07:00","dateModified":"2022-07-23T00:00:00-07:00","@type":"BlogPosting","image":"http://localhost:4000/assets/images/dbt-mysql-planetscale.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/dbt-mysql-planetscale-database-vitess-tutorial/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/images/TipSeasonLogo.jpeg"},"name":"Pramod"},"url":"http://localhost:4000/dbt-mysql-planetscale-database-vitess-tutorial/","author":{"@type":"Person","name":"Pramod"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <title>Connecting dbt mysql with PlanetScale database (Vitess) - A case study</title>


    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <link href="/assets/css/screen.css" rel="stylesheet">

    <link href="/assets/css/main.css" rel="stylesheet">
    <link href="/assets/css/custom.css" rel="stylesheet">


    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
          rel="stylesheet">

    <script src="/assets/js/jquery.min.js"></script>

    

    <!--    MailChimp Addon-->
    <script id="mcjs">!function(c,h,i,m,p){m=c.createElement(h),p=c.getElementsByTagName(h)[0],m.async=1,m.src=i,p.parentNode.insertBefore(m,p)}(document,"script","https://chimpstatic.com/mcjs-connected/js/users/13f41df6125800abe7efbd891/750d0895c842aca8ef9984840.js");</script>
    <!--    End of MailChimp Addon-->

</head>


<body class="layout-post">
<!-- defer loading of font and font awesome -->
<noscript id="deferred-styles">
    <link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i"
          rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css"
          integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
</noscript>


<!-- Begin Menu Navigation
================================================== -->
<nav class="navbar navbar-expand-lg navbar-light bg-banner fixed-top mediumnavigation nav-down">

    <div class="container pr-0">

        <!-- Begin Logo -->
        <a class="navbar-brand" href="/">
            <!--    <img src="/assets/images/TipSeasonLogo.jpeg" alt="Tip Season">-->
            <i class="material-icons">scatter_plot</i> TipSeason
        </a>
        <!-- End Logo -->

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarMediumish">

            <!-- Begin Menu -->

            <ul class="navbar-nav ml-auto">

                

                <li class="nav-item">
                    
                    <a class="nav-link" href="/index.html">Home</a>
                </li>

                <li class="nav-item">
                    <a target="_blank" class="nav-link" href="https://tipseason.etsy.com/">Shop </a>
                </li>

            
                <li class="nav-item">
                    <a class="nav-link" href="/ai-tools">AI Tools <sup class="text-danger">New</sup></a>
                </li>


                

                <li class="nav-item">
                    
                    <a class="nav-link" href="/coding-interviews.html">Interviews</a>
                </li>

                

                <li class="nav-item dropdown">
                    

                    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#"
                       role="button"
                       aria-haspopup="true" aria-expanded="false">
                        Tools
                    </a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="/ai-tools">All Tools</a>
                        <hr>
                        <a class="dropdown-item" href="/reading-time-calculator">Reading Time Calculator</a>
                        <hr>
                        <a class="dropdown-item" href="/time-difference-calculator">Time difference Calculator</a>
                        <hr>
                        <a class="dropdown-item" href="/dalle-prompt-generator">Dalle Prompt Generator</a>
                        <hr>
                        <a class="dropdown-item" href="/leonardo-prompt-generator">Leonardo Prompt Generator</a>
                        <hr>
                        <a class="dropdown-item" href="/ai-prompt-generator">AI Art Prompt Generator</a>
                        <hr>
                        <a class="dropdown-item" href="/gemini-prompt-generator">Gemini Prompt Generator<a>
                        <hr>
                        <a class="dropdown-item" href="/adobe-firefly-prompt-generator">Adobe firefly Prompt Generator<a>
                        <hr>
                        <a class="dropdown-item" href="/inr-crore-usd-converter">INR crore to USD converter</a>
                    </div>

                </li>


                

                <li class="nav-item">
                    
                    <a class="nav-link" href="/tips/tech/1-How-to-send-uncompressed-images-on-WhatsApp">Tips</a>
                </li>

                

                <li class="nav-item dropdown">
                    

                    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#"
                       role="button"
                       aria-haspopup="true" aria-expanded="false">
                        Categories
                    </a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="/categories">All Categories</a>
                        <a class="dropdown-item" href="/carbon-language.html">Carbon Language</a>
                        
                        <a class="dropdown-item" href="/categories#Interviews">Interviews</a>
                        
                        <a class="dropdown-item" href="/categories#Java">Java</a>
                        
                        <a class="dropdown-item" href="/categories#Markdown">Markdown</a>
                        
                        <a class="dropdown-item" href="/categories#Database">Database</a>
                        
                        <a class="dropdown-item" href="/categories#MySQL">MySQL</a>
                        
                        <a class="dropdown-item" href="/categories#PostgreSQL">PostgreSQL</a>
                        
                        <a class="dropdown-item" href="/categories#DataScience">DataScience</a>
                        
                        <a class="dropdown-item" href="/categories#Carbon">Carbon</a>
                        
                        <a class="dropdown-item" href="/categories#Programming">Programming</a>
                        
                        <a class="dropdown-item" href="/categories#Events">Events</a>
                        
                        <a class="dropdown-item" href="/categories#Behavioral">Behavioral</a>
                        
                        <a class="dropdown-item" href="/categories#Resume">Resume</a>
                        
                        <a class="dropdown-item" href="/categories#Golang">Golang</a>
                        
                        <a class="dropdown-item" href="/categories#ChatGPT">ChatGPT</a>
                        
                        <a class="dropdown-item" href="/categories#Midjourney">Midjourney</a>
                        
                        <a class="dropdown-item" href="/categories#Writing">Writing</a>
                        
                        <a class="dropdown-item" href="/categories#BardAI">BardAI</a>
                        
                        <a class="dropdown-item" href="/categories#Gemini">Gemini</a>
                        
                        <a class="dropdown-item" href="/categories#DALLE-2">DALLE-2</a>
                        
                        <a class="dropdown-item" href="/categories#SQL">SQL</a>
                        
                        <a class="dropdown-item" href="/categories#Software Engineer">Software Engineer</a>
                        
                    </div>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="https://us8.list-manage.com/contact-form?u=13f41df6125800abe7efbd891&form_id=bfba3f28362a84ec99ce783c427eb5a7" rel="nofollow">Contact Us</a>
                </li>

                <script src="/assets/js/lunr.js"></script>


<style>
    .lunrsearchresult .title {color: #d9230f;}
    .lunrsearchresult .url {color: silver;}
    .lunrsearchresult a {display: block; color: #777;}
    .lunrsearchresult a:hover, .lunrsearchresult a:focus {text-decoration: none;}
    .lunrsearchresult a:hover .title {text-decoration: underline;}
</style>


<form class="bd-search" onSubmit="return lunr_search(document.getElementById('lunrsearch').value);">
    <input type="text" class="form-control text-small launch-modal-search" id="lunrsearch" name="q" maxlength="255" value="" placeholder="Type and enter to Search"/>
</form>

<div id="lunrsearchresults">
    <ul></ul>
</div>

<script src="/assets/js/lunrsearchengine.js"></script>

            </ul>

            <!-- End Menu -->

        </div>

    </div>
</nav>
<!-- End Navigation
================================================== -->

<div class="site-content">

    <div class="container">

        <!-- Site Title
        ================================================== -->
        <!--<div class="mainheading">-->
        <!--    <h1 class="sitetitle">Tip Season</h1>-->
        <!--    <p class="lead">-->
        <!--        Tip Season - Tech & Coding Interview Tips and Tricks-->
        <!--    </p>-->
        <!--</div>-->

        <!-- Content
        ================================================== -->
        <div class="main-content">
            <!-- Begin Article
================================================== -->
<div class="container">
    <div class="row">

        <!-- Post Share -->
        <div class="col-md-2 pl-0">
            <div class="share sticky-top sticky-top-offset">
    <p>
        Share
    </p>
    <ul>
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://twitter.com/intent/tweet?text=Connecting dbt mysql with PlanetScale database (Vitess) - A case study&url=http://localhost:4000/dbt-mysql-planetscale-database-vitess-tutorial/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                <i class="fab fa-twitter"></i>
            </a>
        </li>

        <li class="ml-1 mr-1">
            <a target="_blank" href="https://facebook.com/sharer.php?u=http://localhost:4000/dbt-mysql-planetscale-database-vitess-tutorial/" onclick="window.open(this.href, 'facebook-share', 'width=550,height=435');return false;">
                <i class="fab fa-facebook-f"></i>
            </a>
        </li>

        <li class="ml-1 mr-1">
            <a target="_blank" href="https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/dbt-mysql-planetscale-database-vitess-tutorial/" onclick="window.open(this.href, 'width=550,height=435');return false;">
                <i class="fab fa-linkedin-in"></i>
            </a>
        </li>

    </ul>
    
    <div class="sep">
    </div>
    <ul>
        <li>
        <a class="small smoothscroll" href="#disqus_thread"></a>
        </li>
    </ul>
    
</div>

        </div>

        <!-- Post -->
        

        <div class="col-md-9 flex-first flex-md-unordered">
            <div class="mainheading">


                <!-- Post Title -->
                <h1 class="posttitle">Connecting dbt mysql with PlanetScale database (Vitess) - A case study</h1>

                <!-- Author Box -->
                
                <div class="row post-top-meta">
                    <div class="col-xs-12 col-md-3 col-lg-2 text-center text-md-left mb-4 mb-md-0">
                        
                        <img class="author-thumb" src="/assets/images/avatar.png" alt="Mani">
                        
                    </div>
                    <div class="col-xs-12 col-md-9 col-lg-10 text-center text-md-left">
                        <a target="_blank" class="link-dark" href="https://www.instagram.com/thetipseason/">Mani</a><a target="_blank" href="https://twitter.com/thetipseason" class="btn follow">Follow</a>
                        <div class="author-description">Educating everyone with the beauty of programming!!</div>
                    </div>
                </div>
                


            </div>

            <!-- Adsense if enabled from _config.yml (change your pub id and slot) -->
            
            <!-- End Adsense -->

            <!-- Post Featured Image -->
            

            
            <img class="featured-image img-fluid" src="/assets/images/dbt-mysql-planetscale.jpg" alt="Connecting dbt mysql with PlanetScale database (Vitess) - A case study">
            

            
            <!-- End Featured Image -->

            <!-- Post Content -->
            <div class="article-post">
                <!-- Toc if any -->
                
                    
                        <p><em>PlanetScale and dbt (data build tool) have become two major platforms for databases + analytics engineers. What if we connect both of them?</em></p>
                    
                    

<!--                    <div class="toc mt-4 mb-4 lead">-->
<!--                        <h3 class="font-weight-bold">Summary</h3>-->
<!--                        <ul>
  <li><a href="#step-1-create-planetscale-database">Step 1: Create PlanetScale database</a></li>
  <li><a href="#step-2-setup-dbt-client-with-dbt-mysql-adapter">Step 2: Setup dbt client with dbt-mysql adapter</a>
      - {:.} <a href="#step-21--setup-pip">Step 2.1:  Setup pip:</a>
      - {:.} <a href="#step-22-setup-dbt-mysql-adapter">Step 2.2: Setup dbt mysql adapter</a></li>
  <li><a href="#step-3-connect-dbt-mysql-with-planetscale-database">Step 3: Connect dbt-mysql with planetscale database</a>
      - {:.} <a href="#perform-sample-queries-with-dbt-mysql-and-pscale">Perform sample queries with dbt-mysql and pscale:</a></li>
  <li><a href="#some-caveats">Some Caveats:</a></li>
  <li><a href="#">DBT Course Giveaway - Limited time</a></li>
  <li><a href="#suggested-articles">Suggested Articles:</a></li>
</ul>-->
<!--                    </div>-->
                
                <!-- End Toc -->
                <p>When I first started playing around with dbt (data build tool), being a traditional MySQL developer, the first thing that came to my mind is <strong>Can we connect dbt with mysql</strong> ? After some research on getdbt site, I found that there is a dbt-mysql adapter which can connect dbt with mysql. But then as I digged deeper to understand <a href="https://tipseason.com/dbt-tutorial-real-world-scenario-guide/">dbt in a real world scenario</a>, the immediate question that popped up is <strong>what if I have to do the data processing at scale using MySQL</strong> ? MySQL is scalable however it‚Äôs still single master node. Well that‚Äôs when Vitess came to a rescue. Since we are in cloud era and that I don‚Äôt want to manage Vitess on my own, went ahead and saw who provides Vitess as a managed service and thats when PlanetScale came into picture and is a perfect fit for our use case.</p>

<p><strong>What if we combine the power of dbt data transformations with mysql compatible Vitess at scale?</strong></p>

<p>Thats exactly what this case study is all about. In this post, we will connect dbt with Vitess using dbt-mysql adapter on PlanetScale Vitess database Cloud.</p>

<p>For beginners,</p>

<p><strong><a href="https://vitess.io/">Vitess</a></strong> is a MySQL compatible database clustering system for horizontal scaling of MySQL. Since MySQL works with single master, Vitess helps you partition your data into multiple partitions with a unique key ( called as sharding key). It‚Äôs a proven technology at scale originally developed at Youtube.</p>

<p><strong><a href="https://planetscale.com/">PlanetScale</a></strong> is a managed MySQL compatible serverless database platform. They provide database as a service with Vitess as a backend.</p>

<p>So there we go. We have a perfect combination of</p>

<ul>
  <li>dbt ( data build tool)</li>
  <li>MySQL with <a href="https://github.com/dbeatty10/dbt-mysql">dbt-mysql</a></li>
  <li>Managed Vitess hosted on PlanetScale</li>
</ul>

<p>Let‚Äôs jump into connecting each of them. The flow goes like this.</p>

<ul>
  <li>Vitess is a ‚ÄúMySQL compatible‚Äù database. MySQL compatible database indicates that it can support MySQL syntax for all the query needs even though the underlying technology of how data is stored is different from how MySQL natively stores the data.</li>
  <li>To connect dbt with Vitess, we will use <a href="https://github.com/dbeatty10/dbt-mysql">dbt-mysql adapter</a> which is a plugin to connect dbt with mysql or mariadb.</li>
  <li>dbt-mysql adapter is not supported by dbt cloud (which is a dbt cloud based online ide). So for this tutorial, we will use <a href="https://docs.getdbt.com/dbt-cli/cli-overview">dbt cli</a> for working with dbt. dbt cli is a client based tool which can be used to manage the entire dbt workflows.</li>
  <li><a href="https://planetscale.com/">PlanetScale</a> is a fully managed Vitess based service (The MySQL-compatible serverless database platform) .</li>
</ul>

<p>Let‚Äôs dive into the actual workflows.</p>

<h2 id="step-1-create-planetscale-database">Step 1: Create PlanetScale database</h2>
<p>First thing we will do is to signup an account with PlanetScale. This is a straight forward step like any other account signup. Here is the planetscale <a href="https://auth.planetscale.com/sign-up">signup link</a></p>

<p>You can follow this 35 seconds video to setup PlanetScale vitess account.</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/dkLOS95PJrA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p>Once you create an account using above steps, you can configure a <code class="highlighter-rouge">pscale</code> planetscale client (which is a shell based tool) to connect to your db. To do that, for MacOS you use below steps. For other operating systems you can follow <a href="https://github.com/planetscale/cli#installation">this guide</a></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre>#Install Planetscale Client i.e. pscale 
brew install planetscale/tap/pscale

#Install MySQL client that pscale can connect. 
brew install mysql-client

#Login to planetscale account for cli
pscale auth login

#Create database named `demo`
pscale database create demo

#Connect to demo database. 
pscale connect demo

</pre></td></tr></tbody></table></code></pre></div></div>

<p>You can access PlanetScale <code class="highlighter-rouge">demo</code> database using <code class="highlighter-rouge">pscale</code> shell using</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>pscale shell demo 
</pre></td></tr></tbody></table></code></pre></div></div>
<p>This is just like a mysql shell.</p>

<h2 id="step-2-setup-dbt-client-with-dbt-mysql-adapter">Step 2: Setup dbt client with dbt-mysql adapter</h2>
<p>We will connect dbt-mysql adapter for using dbt client. Setting up dbt cli depends on the type of machine that you use. For the purpose of this tutorial , we will use <code class="highlighter-rouge">pip</code> to setup dbt cli with dbt-mysql adapter.</p>

<p>If you have pip installed already you can skip this step.</p>
<h4 id="step-21--setup-pip">Step 2.1:  Setup pip:</h4>

<p>pip (package installer for Python) is a simple package management system written in python that can be used install and manage software packages/libraries written in Python.
If you don‚Äôt have pip installed already you can use run below commands in your terminal.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py
python3 get-pip.py
</pre></td></tr></tbody></table></code></pre></div></div>
<p>Depending on the operating system this process might be a bit different and can be installed using these <a href="https://pip.pypa.io/en/stable/installation/">pip instructions</a></p>

<ul>
  <li>If you are using python3 , this might be more like pip3.</li>
</ul>

<h4 id="step-22-setup-dbt-mysql-adapter">Step 2.2: Setup dbt mysql adapter</h4>
<p>Once you have pip installed , you can install dbt-mysql using the below command in your terminal.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>pip install dbt-mysql

</pre></td></tr></tbody></table></code></pre></div></div>
<p>To verify if dbt installed fine, you can use</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>dbt --version
</pre></td></tr></tbody></table></code></pre></div></div>
<p>which should give results similar to this</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre>tipseason$ dbt --version
installed version: 1.0.8
   latest version: 1.1.1

Your version of dbt is out of date! You can find instructions for upgrading here:
https://docs.getdbt.com/docs/installation

Plugins:
  - mysql5: 1.0.0 - No PYPI version available
  - mariadb: 1.0.0 - No PYPI version available
  - mysql: 1.0.0 - Up to date!
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Once you have dbt-cli installed, you can create a sample dbt project using this.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>dbt init demoproject
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Now that we have dbt project ready along with planetscale database , let‚Äôs connect the two pieces.</p>

<h2 id="step-3-connect-dbt-mysql-with-planetscale-database">Step 3: Connect dbt-mysql with planetscale database</h2>
<p>Inorder to connect dbt with mysql adapter, we need to modify profiles.yml file which serves as the configuration file to database connections.
For mac users the location of this file is in the home folder under <code class="highlighter-rouge">.dbt</code> subfolder. In this if you don‚Äôt have a <code class="highlighter-rouge">profiles.yml</code> file, you can create one using</p>

<p><code class="highlighter-rouge">vi ~/.dbt/profiles.yml</code></p>

<p>This file should have the following configuration information.</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre>demoproject:
  target: dev
  outputs:
    dev:
      type: mysql5
      server: [planetscale_servername]
      port: 3306  # optional
      database: [demo] # optional, should be same as schema
      schema: [planetscale_schema]
      username: [planetscale_username]
      password: [planetscale_password]
      driver: MySQL ODBC 8.0 ANSI Driver
    prod:
      type: mysql5
      server: [server/host]
      port: [port]  # optional
      database: [schema] # optional, should be same as schema
      schema: [schema]
      username: [username]
      password: [password]
      driver: MySQL ODBC 8.0 ANSI Driver                                                                                                                                                                                   
</pre></td></tr></tbody></table></code></pre></div></div>
<p>Make sure you input the data without square brackets (no <code class="highlighter-rouge">[</code> or <code class="highlighter-rouge">]</code>).</p>

<p>That‚Äôs it. We have all the required configurations ready.</p>

<h4 id="perform-sample-queries-with-dbt-mysql-and-pscale">Perform sample queries with dbt-mysql and pscale:</h4>
<p>In Step 2.2, we created <code class="highlighter-rouge">demoproject</code> for dbt. dbt comes with sample models(my_first_dbt_model, my_second_dbt_model, my_third_dbt_model) when we initiate a project.
So let‚Äôs go ahead and run our models from dbt. In terminal,</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>dbt run
</pre></td></tr></tbody></table></code></pre></div></div>
<p>This will create 3 tables in planetscale vitess database. You can check it in your pscale shell using.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td class="rouge-code"><pre>tipseason$ cd demoproject  
tipseason$ dbt run

tipseason$ pscale shell demo
demo/main&gt; show tables;
+---------------------+
| Tables_in_demo      |
+---------------------+
| my_first_dbt_model  |
| my_second_dbt_model |
| my_third_dbt_model  |
+---------------------+
demo/main&gt; select * from my_first_dbt_model;
+------+
| id   |
+------+
|    1 |
| NULL |
+------+
demo/main&gt; select * from my_second_dbt_model;
+------+
| id   |
+------+
|    1 |
+------+
demo/main&gt; 

</pre></td></tr></tbody></table></code></pre></div></div>

<p>As you can see the three models are properly being populated using PlanetScale Vitess MySQL database with dbt-mysql adapter.</p>

<h2 id="some-caveats">Some Caveats:</h2>
<p>Note that dbt-mysql is still in a testing phase and its only a community supported project. So if you plan to use this in production make sure you evaluate in more detail.</p>

<p>Hope this article finds it helpful. Let me know if any specific insights are needed in this integration in the comments. Happy to help.</p>

<hr />
<p>Did you know?</p>

<p>Data Analytics + Data Engineers = Analytics Engineers</p>

<p>dbt (data build tool) helps you in becoming Analytics Engineers. If you don‚Äôt know what these roles are or you just started playing around data, <a href="https://tipseason.com/dbt-data-build-tool-course-beginner/">dbt course</a> towards dbt certification here.</p>

<div class="alert alert-warning" role="alert">
     <span class="text">We are launching a dbt course for beginners with practical hands on project. <br />
       First 20 people to signup for the course, will get course for free and next 30 people will get a 50% discount. Make sure to signup here.
    </span>
</div>

<!-- Begin Mailchimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/classic-10_7_dtp.css" rel="stylesheet" type="text/css" />

<style type="text/css">
	#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif;  width:600px;}
	/* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>

<div id="mc_embed_signup">
    <form action="https://tipseason.us8.list-manage.com/subscribe/post?u=13f41df6125800abe7efbd891&amp;id=48c9c22448" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate="">
        <div id="mc_embed_signup_scroll">
            <h2>DBT Course Giveaway - Limited time</h2>
            <div class="indicates-required"><span class="asterisk">*</span> indicates required</div>
            <div class="mc-field-group">
                <label for="mce-EMAIL">Email Address  <span class="asterisk">*</span>
                </label>
                <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" />
            </div>
            <div class="mc-field-group">
                <label for="mce-FNAME">First Name </label>
                <input type="text" value="" name="FNAME" class="" id="mce-FNAME" />
            </div>
            <div hidden="true"><input type="hidden" name="tags" value="5159980" /></div>
            <div id="mce-responses" class="clear foot">
                <div class="response" id="mce-error-response" style="display:none"></div>
                <div class="response" id="mce-success-response" style="display:none"></div>
            </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
            <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_13f41df6125800abe7efbd891_48c9c22448" tabindex="-1" value="" /></div>
            <div class="optionalParent">
                <div class="clear foot">
                    <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button" />
                    <p class="brandingLogo"><a href="http://eepurl.com/h4R8Mr" title="Mailchimp - email marketing made easy and fun"><img src="https://eep.io/mc-cdn-images/template_images/branding_logo_text_dark_dtp.svg" /></a></p>
                </div>
            </div>
        </div>
    </form>
</div>
<script type="text/javascript" src="//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js"></script>
<script type="text/javascript">(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';fnames[1]='FNAME';ftypes[1]='text';fnames[2]='LNAME';ftypes[2]='text';fnames[3]='ADDRESS';ftypes[3]='address';fnames[4]='PHONE';ftypes[4]='phone';fnames[5]='BIRTHDAY';ftypes[5]='birthday';}(jQuery));var $mcj = jQuery.noConflict(true);</script>

<!--End mc_embed_signup-->

<ul>
  <li>Tip: dbt is never spelled in capital letters.</li>
</ul>

<p>Hope this post make things clear about dbt. In the next tutorial, we will talk about</p>

<ul>
  <li>dbt Cloud and Step by step tutorial to setup your first dbt cloud project.</li>
</ul>

<p>Make sure you subscribe to our website by subscribing to our mailing list and by following us on Twitter (<a target="_blank" href="https://twitter.com/thetipseason">@thetipseason</a>)</p>

<h2 id="suggested-articles">Suggested Articles:</h2>

<p><a href="https://tipseason.com/carbon-language-tutorial-syntax/">Google Carbon Programming language tutorial</a></p>

<p><a href="https://tipseason.com/postgres-vs-mysql-syntax-comparision/">PostgreSQL Vs MySQL Syntax - A beginners guide to use postgres and mysql with comparison and examples</a></p>

<p><a href="https://tipseason.com/dbt-tutorial-real-world-scenario-guide/">dbt (data build tool) in a real world scenario, Beginner dbt tutorial</a></p>

<p><a href="https://tipseason.com/top-10-most-loved-programming-languages-2022/">Top 10 most loved programming languages of 2022 and which companies use them</a></p>


            </div>


            <!-- Post promotion -->
            
<hr>
We hope you like this post. If you have any questions or suggestions or need any other additional info, please comment below.
<br>
<br>
We have started a coding community for most frequently used real world coding tips. You can join us here
<br>
<a target="_blank" href="https://discord.gg/5t6hKNQZgV">TipSeason Discord channel</a>
<br>
<a target="_blank" href="https://www.facebook.com/groups/tipseason"> TipSeason Facebook Group</a>

<br>
<br>

<div class="alert alert-warning" role="alert">
    Signup to our Trending AI newsletter here
</div>

<!-- Begin Mailchimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/classic-071822.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif;  width:600px;}
	/* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
    <form action="https://tipseason.us8.list-manage.com/subscribe/post?u=13f41df6125800abe7efbd891&amp;id=48c9c22448&amp;f_id=0043aee0f0" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
        <div id="mc_embed_signup_scroll">
            <h2>Free AI Prompts + Tools every week</h2>
            <div class="indicates-required"><span class="asterisk">*</span> indicates required</div>
            <div class="mc-field-group">
                <label for="mce-EMAIL">Email Address  <span class="asterisk">*</span>
                </label>
                <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" required>
                <span id="mce-EMAIL-HELPERTEXT" class="helper_text"></span>
            </div>
            <div class="mc-field-group">
                <label for="mce-FNAME">First Name </label>
                <input type="text" value="" name="FNAME" class="" id="mce-FNAME">
                <span id="mce-FNAME-HELPERTEXT" class="helper_text"></span>
            </div>
            <div id="mce-responses" class="clear foot">
                <div class="response" id="mce-error-response" style="display:none"></div>
                <div class="response" id="mce-success-response" style="display:none"></div>
            </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
            <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_13f41df6125800abe7efbd891_48c9c22448" tabindex="-1" value=""></div>
            <div class="optionalParent">
                <div class="clear foot">
                    <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button">
                    <p class="brandingLogo"><a href="http://eepurl.com/h4R8Mr" title="Mailchimp - email marketing made easy and fun"><img src="https://eep.io/mc-cdn-images/template_images/branding_logo_text_dark_dtp.svg"></a></p>
                </div>
            </div>
        </div>
    </form>
</div>
<script type='text/javascript' src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script><script type='text/javascript'>(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[1]='FNAME';ftypes[1]='text';fnames[0]='EMAIL';ftypes[0]='email';}(jQuery));var $mcj = jQuery.noConflict(true);</script>
<!--End mc_embed_signup-->

As a bonus, here is an amazing list of prompts for midjourney
<br>
<br>
<blockquote class="twitter-tweet"><p lang="fr" dir="ltr">1600+ Midjourney prompts + 1500 AI Art prompt keywords, 25 categories, logo, tshirt, coloring page, characters , AI art prompts, Digital art <a href="https://t.co/X4zMgNepnk">https://t.co/X4zMgNepnk</a> via <a href="https://twitter.com/Etsy?ref_src=twsrc%5Etfw">@Etsy</a></p>&mdash; TipSeason‚ö°üí° (@thetipseason) <a href="https://twitter.com/thetipseason/status/1645668195968364548?ref_src=twsrc%5Etfw">April 11, 2023</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
What do you want to learn next ? Drop a comment below!

            <!-- End of Post promotion -->


            <!-- Suggested Reads -->
            
            <div class="rating mb-4 d-flex align-items-center">
                <strong class="mr-1">What Others are also Reading:</strong>
                <br>
                
                
                    <div>
                        <a href="/dbt-tutorial-real-world-scenario-guide/">dbt-tutorial-real-world-scenario-guide/</a>
                    </div>
                
            </div>
            


            <!-- Rating -->
            

            <hr>

            <!-- Post Date -->
            <p>
            <small>
                <span class="post-date"><time class="post-date" datetime="2022-07-23">23 Jul 2022</time></span>
                
                </small>
            </p>

            <!-- Post Categories -->
            <div class="after-post-cats">
                <ul class="tags mb-4">
                    
                    
                    <li>
                        <a class="smoothscroll" href="/categories#DataScience">DataScience</a>
                    </li>
                    
                </ul>
            </div>
            <!-- End Categories -->

            <!-- Post Tags -->
            <div class="after-post-tags">
                <ul class="tags">
                    
                    
                    <li>
                        <a class="smoothscroll" href="/tags#red">#red</a>
                    </li>
                    
                    <li>
                        <a class="smoothscroll" href="/tags#yellow">#yellow</a>
                    </li>
                    
                </ul>
            </div>
            <!-- End Tags -->

            <!-- Prev/Next -->
            <div class="row PageNavigation d-flex justify-content-between font-weight-bold">
            
            <a class="prev d-block col-md-6" href="/dbt-data-build-tool-course-beginner/"> &laquo; dbt(data build tool) course for beginners with dbt cloud + snowflake for dbt certification</a>
            
            
            <a class="next d-block col-md-6 text-lg-right" href="/carbon-language-execvp-error/">[Solved] Carbon language not working execvp llvm-ar file not found error &raquo; </a>
            
            <div class="clearfix"></div>
            </div>
            <!-- End Categories -->

        </div>
        <!-- End Post -->

    </div>
</div>
<!-- End Article
================================================== -->

<!-- Begin Comments
================================================== -->

    <div class="container">
        <div id="comments" class="row justify-content-center mb-5">
            <div class="col-md-8">
                <section class="disqus">
    <div id="disqus_thread"></div>
  <!--  <script type="text/javascript">
        var disqus_shortname = 'tipseason'; 
        var disqus_developer = 0;
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = window.location.protocol + '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>-->
</section>

            </div>
        </div>
    </div>

<!--End Comments
================================================== -->

<!-- Review with LD-JSON, adapt it for your needs if you like, but make sure you test the generated HTML source code first: 
https://search.google.com/structured-data/testing-tool/u/0/
================================================== -->
<!--

        </div>


        

    </div>

    <!-- Categories Jumbotron
    ================================================== -->
    <div class="jumbotron fortags">
        <div class="d-md-flex h-100">
            <div class="col-md-4 transpdark align-self-center text-center h-100">
                <div class="d-md-flex align-items-center justify-content-center h-100">
                    <h2 class="d-md-block align-self-center py-1 font-weight-light">Explore <span
                            class="d-none d-md-inline">‚Üí</span></h2>
                </div>
            </div>
            <div class="col-md-8 p-5 align-self-center text-center">
                
                
                
                <a class="mt-1 mb-1"
                   href="/categories#Interviews">Interviews (19)</a>
                
                <a class="mt-1 mb-1"
                   href="/categories#Java">Java (4)</a>
                
                <a class="mt-1 mb-1"
                   href="/categories#Markdown">Markdown (1)</a>
                
                <a class="mt-1 mb-1"
                   href="/categories#Database">Database (2)</a>
                
                <a class="mt-1 mb-1"
                   href="/categories#MySQL">MySQL (2)</a>
                
                <a class="mt-1 mb-1"
                   href="/categories#PostgreSQL">PostgreSQL (4)</a>
                
                <a class="mt-1 mb-1"
                   href="/categories#DataScience">DataScience (3)</a>
                
                <a class="mt-1 mb-1"
                   href="/categories#Carbon">Carbon (6)</a>
                
                <a class="mt-1 mb-1"
                   href="/categories#Programming">Programming (4)</a>
                
                <a class="mt-1 mb-1"
                   href="/categories#Events">Events (1)</a>
                
                <a class="mt-1 mb-1"
                   href="/categories#Behavioral">Behavioral (5)</a>
                
                <a class="mt-1 mb-1"
                   href="/categories#Resume">Resume (1)</a>
                
                <a class="mt-1 mb-1"
                   href="/categories#Golang">Golang (7)</a>
                
                <a class="mt-1 mb-1"
                   href="/categories#ChatGPT">ChatGPT (24)</a>
                
                <a class="mt-1 mb-1"
                   href="/categories#Midjourney">Midjourney (22)</a>
                
                <a class="mt-1 mb-1"
                   href="/categories#Writing">Writing (1)</a>
                
                <a class="mt-1 mb-1"
                   href="/categories#BardAI">BardAI (4)</a>
                
                <a class="mt-1 mb-1"
                   href="/categories#Gemini">Gemini (3)</a>
                
                <a class="mt-1 mb-1"
                   href="/categories#DALLE-2">DALLE-2 (1)</a>
                
                <a class="mt-1 mb-1"
                   href="/categories#SQL">SQL (2)</a>
                
                <a class="mt-1 mb-1"
                   href="/categories#Software-Engineer">Software Engineer (2)</a>
                
                
                
            </div>
        </div>
    </div>

    <!-- Begin Footer
    ================================================== -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-3 col-sm-3 text-center text-lg-left">
                    <a href="#">Copyright ¬© 2024 Tip Season</a>
                </div>

                <div class="col-md-2 col-sm-2 text-center text-lg-left">
                    <a href="/privacy.html">Privacy Policy</a>
                </div>

                <div class="col-md-2 col-sm-2 text-center text-lg-left">
                    <a href="/termsandconditions" rel="noopener noreferrer nofollow">Terms & Conditions</a>
                </div>


                <!--            <div class="col-md-6 col-sm-6 text-center text-lg-right">    -->
                <!--                <a target="_blank" href="https://www.wowthemes.net/mediumish-free-jekyll-template/">Mediumish Jekyll Theme</a> by WowThemes.net-->
                <!--            </div>-->
            </div>
        </div>


    </footer>
    <!-- End Footer
    ================================================== -->

</div> <!-- /.site-content -->

<!-- Scripts
================================================== -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
        integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
        crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
        integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
        crossorigin="anonymous"></script>

<script src="/assets/js/mediumish.js"></script>



<script src="/assets/js/ie10-viewport-bug-workaround.js"></script>


<script id="dsq-count-scr" src="//tipseason.disqus.com/count.js"></script>


</body>
</html>
